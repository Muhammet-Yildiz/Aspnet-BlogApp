@model BlogApp.Models.User

@{
    ViewData["Title"] = "Edit Profile";
}

<div class="row">
    <div class="col-5 offset-4">
        <form  
        asp-action="EditProfile"
        asp-controller="Account"
        enctype="multipart/form-data"
        >
                <h4 class="display-6  text-center pb-2  ">Edit Profile</h4>

            <div 
            asp-validation-summary="ModelOnly" class="text-danger small"></div>
            

            <div class="form-group mb-3">
              @* <input type="hidden" asp-for="@Model.BlogId" /> *@

                <label asp-for="FullName" class="form-label">FullName</label>
                <input asp-for="FullName" class="form-control" placeholder="FullName" 
               value="@Model.FullName"
                />

                <span asp-validation-for="FullName" class="text-danger small"></span>
            </div>

            <div class="form-group mb-3">
                <label asp-for="Email" class="form-label">Email</label>
               
<input asp-for="Email" class="form-control" placeholder="Email" 
               value="@Model.Email"
                />
                
                <span 
                
                asp-validation-for="Email" class="text-danger small"></span>
            </div>

              @* <div  class="form-group mb-3" >
                <label asp-for="ProfileImage" class="form-label">Image</label>
                  <input type="file" asp-for="ProfileImage"
                    value="data:image/png;base64,@Html.Raw(Model.ProfileImage)"
                   />

               


                @if (!string.IsNullOrEmpty(Model.ProfileImage))
            {
              <img src="data:image/png;base64,@Html.Raw(Model.ProfileImage)" 
              
               style="width: 100px; height: 100px; margin-bottom: 10px;"
              />
            }
            else
            {
                <img src="~/images/user.png" alt="imageX" 
                    style="width: 100px; height: 100px; margin-top: 10px;"
                />
            }


                </div>  *@


   <div class="profile-覺mg-upld-wrapper">

                    <div class="ProfilePhotoField">
                        <i class="fa-solid fa-user"></i>
                        <div class="txt">

                            <div>
                                <i class="fa-solid fa-upload"></i>
                              <span>
                              Change Profile Photo

                              </span>
                            </div>
                         
                        </div>
                        @* <input
                             name="photo"
                            type="file"

                        /> *@
                          <input type="file" asp-for="ProfileImage"
                    value="data:image/png;base64,@Html.Raw(Model.ProfileImage)"
                   />
                      
                    </div>


                    <div class="currentImage">
                        <div class="absolute">
                            Currently Image
                        </div>
                          @if (!string.IsNullOrEmpty(Model.ProfileImage))
            {
              <img src="data:image/png;base64,@Html.Raw(Model.ProfileImage)" 
              alt="userPhoto" 
              />
            }
            else
            {
                <img src="~/images/user.png" alt="userPhoto" 
                />
            }
                    </div>

                </div>












            
            <div class="form-group d-grid mb-3">
                <button type="submit" class="btn btn-primary d-block"><i class="fa-solid fa-right-to-bracket me-2"></i>Edit Profile</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

<script>
    $(document).ready(function () {
        $('input[type="file"]').change(function (e) {
            var fileName = e.target.files[0].name;
            $('.txt span').text(fileName);
        });
    });

</script>



<style>

    
.profile-覺mg-upld-wrapper {
    height: 190px;
    position: relative;
    display: flex;
    margin-bottom: 1.8rem;
    margin-top: 1rem;
    justify-content: space-between;
}

.profile-覺mg-upld-wrapper .currentImage {
    width: 48%;
    border: rgb(235, 235, 235) solid 1px;
    position: relative;
    height: 100%;
    padding: 0.8rem;
}

.profile-覺mg-upld-wrapper .currentImage .absolute {
    position: absolute;
    bottom: 15px;
    right: 15px;
    color: white;
    background-color: #0205b1;
    font-size: 0.6rem;
    font-weight: bold;
    opacity: 0.6;
    font-family: 'Mukta ', sans-serif;
    z-index: 52;
}

.currentImage img {
    width: 100%;
    height: 100%;
    border-radius: 6px;
}

.ProfilePhotoField {
    border: rgb(235, 235, 235) solid 1px;
    width: 48%;
    border-radius: 3px;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    cursor: pointer;
    position: relative;
}

.ProfilePhotoField i {
    font-size: 4.4rem;
    color: rgba(0, 0, 0, 0.7);
    margin-bottom: 0.6rem;
    margin-top: 19px;
}

.ProfilePhotoField .txt {
    margin-top: 14px;
    text-align: center;
    font-size: 0.8rem;
    color: rgba(0, 0, 0, 0.9);
}

.ProfilePhotoField .txt div {
    display: flex;
    align-items: center;
}

.ProfilePhotoField .txt i {
    font-size: 1.5rem;
    margin-right: 10px;
    margin-top: 7px;
}

.ProfilePhotoField input[type="file"] {
    width: 100%;
    height: 200px;
    position: absolute;
    opacity: 0;
    cursor: pointer;
    border:2px solid red;
}

</style>